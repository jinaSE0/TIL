멱등성
---
멱등성이란 같은 연산을 여러번 실행한다고해도 그 결과가 달라지지 않는 성질

=> HTTP메서드에서 멱등성이란
- 동일한요청을 한번보내는 것과 여러번 보내는 것이 실로 동일한 효과를 지니고 서버의 상태도 동일하게 남을때
- 멱등성을 따질때는 서버의 상태만 보면되고, HTTP 응답 상태는 신경쓰지않아도됨

![image](https://user-images.githubusercontent.com/109025674/205843558-3237cb56-53bf-4a79-a7fe-7a100b341642.png)

- 올바르게 구현되었다면 포스트와 패치빼고는 멱등성이 보장된다.
  - get, head , options는 당연히 단순히 읽어오는 메소드니까 의문안듦 ㅇㅇ
  - PUT은 서버에 존재하는 리소스를 요청에 담긴 내용대로 통째로 대체해버림 -> 여러번 요청해도 같은 결과값
  - delete는 의아할 수 있는데 요청처음했을때 지워지고 그다음에는 없는 대상에 대해 지우니까 -> 응답코드는 달라도 멱등성은 보장됨
  - post는 호출될때마다 db에 요청된 데이터가 추가될것, 호출시마다 서버상태 달라짐
  - patch는 PATCH는 구현에 따라 다르다 그래서 항상 멱등성을 보장한다고 할 수는 없다

안전한 메소드
---
서버의 상태를 변경시키지않는 HTTP 메서드로 조회에 사용되는 get, options, head메서드가 해당

- 모든 안전한 메소드는 멱등성을 갖지만, 그 역은 성립하지않음
  - put 은 리소스를 수정하고 delete는 리소스를 제거하니까




```
너무 헷갈렸는데 핵심은!
**멱등성을 갖는 메소드가 서버의 상태를 변경하지 않는다고 오해하면 안된다.
멱등성을 갖는 메소드도 서버의 상태를 변경시킬 수 있다. 멱등성의 핵심은 "요청에 대한 서버의 상태가 항상 같은가?" 이다.**
```

[출처](https://hudi.blog/http-method-idempotent/)
